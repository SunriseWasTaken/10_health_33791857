<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('partials/header') %>
</head>
<body>
  <%- include('partials/sidebar') %>
  
  <main class="main-content">
    <h1>Weather</h1>
    
    <div class="dashboard-grid">
      <div class="card card-large">
        <h2>Check Weather</h2>
        <form method="GET" action="/weather">
          <label for="city">City Name</label>
          <input 
            type="text" 
            id="city" 
            name="city" 
            required 
            placeholder="e.g., London, New York, Tokyo"
            value="<%= typeof city !== 'undefined' && city ? city : '' %>"
          />
          <button type="submit" class="btn">Get Weather</button>
        </form>
        
        <% if (typeof error !== 'undefined' && error) { %>
            <strong><br>Couldn't find that city:</strong> <%= error %>          </div>
        <% } %>
      </div>
      
      <% if (typeof weather !== 'undefined' && weather) { %>
        <div class="card card-large">
          <h2>Current Weather</h2>
              <strong>Location:</strong> <%= weather.location %><br>
            </p>
              <strong>Temperature:</strong><%= weather.temperature %>°C<br>
            </p>
              <strong>Condition:</strong> <%= weather.condition %><br>
            </p>
              <strong>Description:</strong> <%= weather.description %><br>
            </p>
              <strong>Feels like:</strong> <%= weather.feelsLike %>°C<br>
            </p>
              <strong>Humidity:</strong> <%= weather.humidity %>%<br>
            </p>
              <strong>Wind Speed:</strong> <%= weather.windSpeed %> m/s<br>
            </p>
          </div>
        </div>
      <% } else { %>
        <div class="card">
          <h2>Outdoor Workout Tips</h2>
          <p>Check the weather before heading out for your run or outdoor workout.</p>
          <p>Ideal conditions: Clear skies, moderate temperature, and low wind.</p>
        </div>
      <% } %>
    </div>
  </main>

  <%- include('partials/footer') %>
</body>
</html>
